<template ds-lang="en">
  <div class="container" ds-section>
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Title</h4>
        <p class="card-text">Text</p>
      </div>
    </div>
  </div>
</template>

<template>
  <button class="btn btn-primary" ds-on-click="edit">Edit</button>
</template>

<template ds-id="addWidgetButton">
  <div class="d-flex mb-4 align-items-center">
    <hr class="flex-grow-1 border-dashed">
    <div class="px-2">
      <button class="btn btn-outline-secondary">
        <iconify-icon icon="mdi:plus-circle-outline" inline></iconify-icon> Add action
      </button>
    </div>
    <hr class="flex-grow-1 border-dashed">
  </div>
</template>


<script>
  return {
    name: 'Actions',
    description: 'test actions',
    version: 1,
    actions: {
      addWidgetButton: [
        {
          dsAction: 'set/dataValue',
          dsParams: {
            name: 'dsWidget/'
          }
        }
      ],
      edit: [
        {
          dsAction: 'dsOperator/iterate',
          dsParams: {
            item: {
              dsAction: 'get/dataValue',
              dsParams: {
                name: 'dsWidget/sections'
              }
            },
            dsActionId: {
              dsActionRef: 'addWidgetButton'
            }
          }
        }
      ]
    }
  }
</script>